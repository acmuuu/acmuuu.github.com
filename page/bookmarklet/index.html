<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="canonical" href="/bookmarklet/" />
    <meta name="description" content="脚本书签在线生成器" />
    <meta name="author" content="Peter Coles" />
    <title>脚本书签在线生成器</title>
    <link rel="stylesheet" type="text/css" media="screen" href="screen.css" />
    <meta name="theme-color" content="#ffffff">
</head>

<body class="blog post_detail">
    <div id="wrapper">
        <div id="content">
            <div id="content-inner">

                <div id="alpha">
                    <div class="post" id="post-56">
                        <div class="header">
                            <h1 class="full">脚本书签在线生成器</h1>
                        </div>
                        <div class="content prose">
                            <form id="bk-form" action="javascript://">
                                <p style="margin:0;">输入javascript脚本:</p>
                                <textarea id="bk-code">alert(&quot;test!&quot;)</textarea>
                                <ul id="bk-opts" class="no-disc">
                                    <li class="clearfix">
                                        <label for="bk-name">书签名称:</label>
                                        <input id="bk-name" type="text" class="text" value="测试" />
                                    </li>
                                    <li class="clearfix">
                                        <label>
                                            <input type="checkbox" id="bk-custom">引入 javascript 脚本: </label>
                                        <input id="bk-custom-url" type="text" class="text" />
                                    </li>
                                    <li class="clearfix">
                                        <label>
                                            <input type="checkbox" id="bk-jquery" data-jquery-url="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"> 引入 jQuery (1.11.1)</label>
                                    </li>
                                    <li class="clearfix">
                                        <button type="submit">转换成 bookmarklet 脚本书签</button>
                                    </li>
                                </ul>
                            </form>

                            <div id="bk-results"></div>

                            <script src="jquery.min.js"></script>

                            <script src="bookmarklet-creator.js"></script>

                            <p>
                                <br>
                                <br>
                                <br>
                            </p>
                            <h3>Why have a bookmarklet creator?</h3>
                            <p>I think <a href="https://mrcoles.com/search/?q=bookmarklet">bookmarklets</a> are great! However, it’s a pain to smoosh your JavaScript into one line and properly URI encode everything. It’s <em>even more</em> of a pain if you want to rely on external scripts in your bookmarklet. Fortunately, I have just packaged all of these features into the above tool!</p>
                            <ol>
                                <li>Enter your JavaScript code</li>
                                <li>Choose if you want to include jQuery* and/or specify an external script</li>
                                <li>Create your bookmarklet!</li>
                            </ol>
                            <p class="small">*Note: the jQuery include takes advantage of <a href="https://api.jquery.com/jQuery.noConflict/">jQuery.noConflict</a>.</p>

                            <h3>Custom Script Example</h3>
                            <p>What’s that? You’d like a silly and trivial example of someone using the custom script option? Well, OK… I wrote a script that throws the sea dragon from the header of my website onto any page and scrolls it in a marquee (for browsers that still support marquee…). You can run it in HTML as such:</p>
                            <div class="codehilite"><pre><span></span><span class="nt">&lt;script</span> <span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span>
         <span class="na">src=</span><span class="s">&quot;https://mrcoles.com/media/js/seadragon.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;#&quot;</span> <span class="na">onclick=</span><span class="s">&quot;window.SeaDragon.add();return false;&quot;</span><span class="nt">&gt;</span>
    Add sea dragon!
<span class="nt">&lt;/a&gt;</span>
</pre></div>

                            <p>Let’s instead turn that into a bookmarklet:</p>
                            <ol>
                                <li>Enter the proper function call in the bookmarklet code section: <code id="corn-code">window.SeaDragon.add()</code></li>
                                <li>Enter the JS file path as the custom script: <code id="corn-script">https://mrcoles.com/media/js/seadragon.js</code></li>
                                <li>Create the bookmarklet (no jQuery required)</li>
                                <li>Profit!!</li>
                            </ol>
                            <p>Lazy? Let me <strong><a href="#" onclick="return false" id="corn-link">automatically fill that out for you above</a></strong> <em>(seriously, click on that link…)</em></p>
                            <p>
                                <br>
                            </p>
                            <h3>Want to run this server-side?</h3>
                            <p>If you want to use this for proper coding or development, then try the <a href="https://github.com/mrcoles/bookmarklet">bookmarklet NPM dependency</a>. It allows you to write a bookmarklet as regular JS with some extra features to auto-include scripts or styles.</p>
                            <p><strong>Update (March 2018):</strong> I used to use Cornify in my example, but I changed it to use my own script in order to limit external scripts that run on my site!</p>
                        </div>
                    </div>

                </div>

</body>

</html>
